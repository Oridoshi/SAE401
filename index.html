<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HTTB</title>
    <link rel="stylesheet" href="style/tailwind.css"></link>
</head>
<body>

<!-- Partie Overlay -->
<div id="overlay" class="fixed top-0 left-0 w-full h-full bg-black opacity-50 z-50 hidden"></div>

    <header class="mb-20 opacity-90 z-50 relative">
        <nav class="py-4px-6 flex items-center justify-start fixed w-full top-0 z-10 bg-white">
            <div class="flex items-center">
                <img src="style/img/icon100x100.png" alt="Logo" class="h-20 mr-3 ml-2 opacity-100">
                <a href="#Accueil" class="text-marronFonce text-lg mx-6 hover:text-gray-300 mr-4">Accueil</a>
                <a href="#Importation" class="text-marronFonce mx-6 hover:text-gray-300 mr-4">Importation</a>
                <a href="#Tableau" class="text-marronFonce mx-6 hover:text-gray-300 mr-4">Tableau</a>
                <a href="#Informations" class="text-marronFonce mx-6 hover:text-gray-300 mr-4">Informations et exportation</a>
            </div>
        </nav>
    </header>

    <img src="style/img/props1.png" alt="test" class="-mt-20" id="Accueil">
    <p class="text-center text-9xl font-abang text-vertFonce">HTTB</p>
    <img src="style/img/props2.png" alt="logo2" class="ml-auto">



	<h1 id="Importation" class="text-3xl font-bold text-vertFonce mb-16">Importation</h1>
	<div class="flex justify-center items-center w-full z-20 relative">
		<form action="php/ValidationFichier.php" method="post" class="relative grid grid-cols-2 gap-0 w-3/4">
			<input type="file" id="commSemmestre1" class="hidden idg"/>
			<label for="commSemmestre1" class="lbldg block mr-4 py-4 px-4
			border-dashed rounded border-2 border-vertFonce text-sm font-semibold 
			text-vertFonce hover:bg-violet-100 cursor-pointer text-center mb-4 ml-4 col-span-1">déposer commission S1</label>
		
			<input type="file" id="jurySemmestre1" class="hidden idg"/>
			<label for="jurySemmestre1" class="lbldg block mr-4 py-4 px-4
			border-dashed rounded border-2 border-vertFonce text-sm font-semibold 
			text-vertFonce hover:bg-violet-100 cursor-pointer text-center mb-4 ml-4 col-span-1">déposer jury S1</label>

			<input type="file" id="commSemmestre2" class="hidden idg"/>
			<label for="commSemmestre2" class="lbldg block mr-4 py-4 px-4
			border-dashed rounded border-2 border-vertFonce text-sm font-semibold 
			text-vertFonce hover:bg-violet-100 cursor-pointer text-center mb-4 ml-4 col-span-1">déposer commission S2</label>
		
			<input type="file" id="jurySemmestre2" class="hidden idg"/>
			<label for="jurySemmestre2" class="lbldg block mr-4 py-4 px-4
			border-dashed rounded border-2 border-vertFonce text-sm font-semibold 
			text-vertFonce hover:bg-violet-100 cursor-pointer text-center mb-4 ml-4 col-span-1">déposer jury S2</label>

			<input type="file" id="commSemmestre3" class="hidden idg"/>
			<label for="commSemmestre3" class="lbldg block mr-4 py-4 px-4
			border-dashed rounded border-2 border-vertFonce text-sm font-semibold 
			text-vertFonce hover:bg-violet-100 cursor-pointer text-center mb-4 ml-4 col-span-1">déposer commission S3</label>
		
			<input type="file" id="jurySemmestre3" class="hidden idg"/>
			<label for="jurySemmestre3" class="lbldg block mr-4 py-4 px-4
			border-dashed rounded border-2 border-vertFonce text-sm font-semibold 
			text-vertFonce hover:bg-violet-100 cursor-pointer text-center mb-4 ml-4 col-span-1">déposer jury S3</label>

			<input type="file" id="commSemmestre4" class="hidden idg"/>
			<label for="commSemmestre4" class="lbldg block mr-4 py-4 px-4
			border-dashed rounded border-2 border-vertFonce text-sm font-semibold 
			text-vertFonce hover:bg-violet-100 cursor-pointer text-center mb-4 ml-4 col-span-1">déposer commission S4</label>

			<input type="file" id="jurySemmestre4" class="hidden idg"/>
			<label for="jurySemmestre4" class="lbldg block mr-4 py-4 px-4
			border-dashed rounded border-2 border-vertFonce text-sm font-semibold 
			text-vertFonce hover:bg-violet-100 cursor-pointer text-center mb-4 ml-4 col-span-1">déposer jury S4</label>

			<input type="file" id="commSemmestre5" class="hidden idg"/>
			<label for="commSemmestre5" class="lbldg block mr-4 py-4 px-4
			border-dashed rounded border-2 border-vertFonce text-sm font-semibold 
			text-vertFonce hover:bg-violet-100 cursor-pointer text-center mb-4 ml-4 col-span-1">déposer commission S5</label>

			<input type="file" id="jurySemmestre5" class="hidden idg"/>
			<label for="jurySemmestre5" class="lbldg block mr-4 py-4 px-4
			border-dashed rounded  border-2 border-vertFonce text-sm font-semibold 
			text-vertFonce hover:bg-violet-100 cursor-pointer text-center mb-4 ml-4 col-span-1">déposer jury S5</label>

			<input type="file" id="commSemmestre6" class="hidden idg"/>
			<label for="commSemmestre6" class="lbldg block mr-4 py-4 px-4
			border-dashed rounded border-2 border-vertFonce text-sm font-semibold 
			text-vertFonce hover:bg-violet-100 cursor-pointer text-center mb-4 ml-4 col-span-1">déposer commission S6</label>

			<input type="file" id="jurySemmestre6" class="hidden idg"/>
			<label for="jurySemmestre6" class="lbldg block mr-4 py-4 px-4
			border-dashed rounded border-2 border-vertFonce text-sm font-semibold 
			text-vertFonce hover:bg-violet-100 cursor-pointer text-center mb-4 ml-4 col-span-1">déposer jury S6</label>

			<input type="file" id="coeff" class="hidden idg"/>
			<label for="coeff" class="lbldg block mr-4 py-4 px-4
			border-dashed rounded border-2 border-vertFonce text-sm font-semibold 
			text-vertFonce hover:bg-violet-100 cursor-pointer text-center mb-4 ml-4 col-span-2">déposer les coeff des Modules</label>


			<div class="col-span-2 flex justify-end items-end">
				<div class="relative">
					<select id="btnPromo" class="flex items-center px-4 py-3 h-full rounded border hover:text-black text-white bg-vertFonce hover:bg-vertClair">
						<option id="creerPromo">Créer une promotion</option>
					</select>
				</div>
				<button type="submit" id="btnSubmit" class="bg-vertFonce hover:bg-vertClair hover:text-black text-white font-bold py-2 px-4 rounded ml-2 mr-4 h-full">Valider</button>
			</div>

			<script src="js/dragAndDrop.js"></script>
			<script src="js/creerPromo.js"></script>
		</form>
	</div>
	
	<h1 id="Tableau" class="text-3xl mt-[13rem] font-bold text-vertFonce mb-6">Tableau</h1>

	<div class="flex justify-between">
		<select id="lstPromo" class="relative flex-none ml-14 mr-4 px-4 py-3 h-full rounded border hover:text-black text-white bg-vertFonce hover:bg-vertClair"></select>
		<select class="relative flex-none px-4 py-3 h-full rounded border hover:text-black text-white bg-vertFonce hover:bg-vertClair">
			<option value="1">Semestre 1</option>
			<option value="2">Semestre 2</option>
			<option value="3">Semestre 3</option>
			<option value="4">Semestre 4</option>
			<option value="5">Semestre 5</option>
			<option value="6">Semestre 6</option>
		</select>
		<select class="relative flex-none ml-auto mr-14 px-4 py-3 h-full rounded border hover:text-black text-white bg-vertFonce hover:bg-vertClair">
			<option id="vueCommission">Vue Commission</option>
			<option id="vueJury">Vue Jury</option>
		</select>
	</div>

	<div id="tabContainer" class="flex justify-start h-[44rem] overflow-y-auto ml-4 mt-4">
		<div id="tabFixeDiv" class="flex-none overflow-x-auto sticky left-0 z-20">
			<!--rajouter les btns de modif pour les admins-->
			<table id="TableauFixe" class="">
				<thead class="bg-marronFonce text-white">
					<tr>
						<th class="sticky top-0 text-center font-bold p-4 border-r border-black">Avis</th>
						<th class="sticky top-0 text-center font-bold p-4 border-r border-black">Code_nip</th>
						<th class="sticky top-0 text-center font-bold p-4 border-r border-black">Rang</th>
						<th class="sticky top-0 text-center font-bold p-4 border-r border-black">Nom</th>
						<th class="sticky top-0 text-center font-bold p-4 border-r border-white">Prénom</th>
					</tr>
				</thead>
				<tbody id="tbodyFixe">
				</tbody>
			</table>
		</div>
		
		<div id="tabScrollDiv" class="relative flex-none overflow-x-auto mr-4 z-10">
			<table id="TableauScroll" class="">
				<thead class="sticky top-0">
				</thead>
				<tbody>	
				</tbody>
			</table>
		</div>
</div>
<script src="js/tableauVisu.js"></script>

	<script>
		const tabScrollDiv = document.getElementById("tabScrollDiv")
		const tabFixeDiv = document.getElementById("tabFixeDiv")

		tabScrollDiv.addEventListener("scroll", function(){
			tabFixeDiv.scrollTop = tabScrollDiv.scrollTop
		});

		tabFixeDiv.addEventListener("scroll", function(){
			tabScrollDiv.scrollTop = tabFixeDiv.scrollTop
		});
	</script>


	<h1 id="Informations" class="text-3xl mt-[3rem] font-bold text-vertFonce mb-16">Informations et exportation</h1>
	<p class="text-justify bg-vertFondTexte rounded-perso shadow-xl text-marronFonce text-xl p-10 ml-20 mr-20 mb-16">
		Nous tenons à souligner que notre responsabilité ne s'étend pas à l'intégrité des données fournies par les utilisateurs. Bien que nous mettions en œuvre des mesures de sécurité rigoureuses pour protéger les informations que vous partagez avec nous, telles que des pare-feu et des protocoles de cryptage avancés, nous ne pouvons garantir à cent pour cent la préservation complète de ces données. Les utilisateurs sont encouragés à prendre leurs propres précautions en matière de sécurité, telles que la création de mots de passe robustes et la vérification régulière de leurs comptes pour détecter toute activité suspecte. Nous nous engageons à collaborer avec nos utilisateurs pour résoudre tout problème de sécurité qui pourrait survenir, mais nous déclinons toute responsabilité pour toute perte ou dommage résultant de la compromission ou de la modification des données.
	</p>

	<h1 class="text-3xl font-bold text-vertFonce mb-16">Exportation</h1>
	<!-- double case -->
	<div class="flex flex-wrap justify-center">
		<div class="w-full md:w-1/2">
			<h2 class="text-marronClair m-5">Exportation données Excel</h2>
			<div class="grid grid-cols-2 w-fit justify-end items-end ml-5">
				<select id="exportExelPromo" class="bg-vertFonce w-44 hover:bg-vertClair  hover:text-black text-white font-bold py-2 px-4 rounded mb-3"></select>
				<button id="exportExelJury" class="bg-marronFonce w-60 hover:bg-marronClair hover:text-black text-white font-bold py-2 px-4 rounded ml-2 mr-4 mb-3">Exporter jury</button>
				
				<select id="exportExcelSemestre" class="bg-vertFonce w-44 hover:bg-vertClair  hover:text-black text-white font-bold py-2 px-4 rounded">
					<option class="bg-vertFonce hover:bg-vertClair hover:text-black text-white" value="1">Semmestre 1</option>
					<option class="bg-vertFonce hover:bg-vertClair hover:text-black text-white" value="2">Semmestre 2</option>
					<option class="bg-vertFonce hover:bg-vertClair hover:text-black text-white" value="3">Semmestre 3</option>
					<option class="bg-vertFonce hover:bg-vertClair hover:text-black text-white" value="4">Semmestre 4</option>
					<option class="bg-vertFonce hover:bg-vertClair hover:text-black text-white" value="5">Semmestre 5</option>
					<option class="bg-vertFonce hover:bg-vertClair hover:text-black text-white" value="6">Semmestre 6</option>
				</select>
				<button id="exportExelComm" class="bg-marronFonce w-60 hover:bg-marronClair hover:text-black text-white font-bold py-2 px-4 rounded ml-2 mr-4">Exporter commission</button>
			</div>
		</div>
		<div class="w-full md:w-1/2">
			<h2 class="text-marronClair m-5">Exportation avis poursuite d'études</h2>
			<div class="col-span-2 w-fit justify-end items-end ml-5">
				<select id="exportEleveAvis" class="bg-vertFonce w-60 hover:bg-vertClair  hover:text-black text-white font-bold py-2 px-4 rounded mb-3">
					<option class="bg-vertFonce hover:bg-vertClair hover:text-black text-white">Baptiste Hay</option>
					<option class="bg-vertFonce hover:bg-vertClair hover:text-black text-white">Blocus Périphérique</option>
				</select>
				<button id="exportAvis" class="bg-marronFonce w-60 hover:bg-marronClair hover:text-black text-white font-bold py-2 px-4 rounded ml-2 mr-4 mb-3" name="exportAvis">Exporter avis</button>
				<script>
					document.getElementById("exportAvis").addEventListener("click", function(){
						var id_etu = 1;
						fetch('http://127.0.0.1:8000/ExportPDF.php', {
							method: 'POST',
							body: JSON.stringify({ id_etu : id_etu }),
							headers: {
								'Content-Type': 'application/json'
							}
							}).then(response => response.json())
							.then(data => {
								console.log("dans le fetch");
								console.log(data);
								//ajouter aux tableaux les données
							}).catch(error => console.error("erreur lors de la récupération des données"));
							//window.location.href = './visuPdf.html';
						});
				</script>
			</div>
		</div>
	</div>

<!-- Overlay login -->
	<div id="loginModal" class="fixed top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 bg-vertFonce p-8 rounded shadow-lg max-w-sm z-50 hidden">
		<h2 class="text-lg font-semibold text-white mb-4">Login</h2>
		<form id="loginForm">
			<div class="mb-4">
				<label for="username" class="block text-sm font-medium text-marronClair">Identifian:</label>
				<input type="text" id="username" name="username" class="mt-1 block w-full rounded-md shadow-sm bg-vertClair text-marronFonce focus:ring focus:ring-vertClair focus:ring-opacity-50">
			</div>
			<div class="mb-4">
				<label for="password" class="block text-sm font-medium text-marronClair">Mot de passe:</label>
				<input type="password" id="password" name="password" class="mt-1 block w-full rounded-md shadow-sm bg-vertClair text-marronFonce focus:ring focus:ring-vertClair focus:ring-opacity-50">
			</div>
			<div class="mt-4">
				<button type="submit" class="w-full bg-marronFonce text-white py-2 px-4 rounded hover:bg-marronClair hover:text-black focus:outline-none focus:ring-2 focus:ring-marronFonce focus:ring-opacity-50">Login</button>
			</div>
		</form>
	</div>
<!-- Overlay créaPromo -->
	<div id="creerPromoModal" class="fixed top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 bg-vertFonce p-8 rounded shadow-lg max-w-sm z-50 hidden">
		<h2 class="text-lg font-semibold text-white mb-4">Nouvelle Promo</h2>
		<p class="text-center bg-vertFondTexte rounded-lg shadow-lg text-marronFonce p-2 m-2">
			Veillez entrée l'année de rentrée<br>
			en BUT 1, par exemple<br>
			rentré en BUT 1 2022, entrée 2022.
		</p>
		<form id="creerPromoForm">
			<div class="mb-4">
				<label for="promo" class="block text-sm font-medium text-marronClair">Nouvelle promo:</label>
				<input type="number" id="promo" name="promo" class="mt-1 block w-full rounded-md shadow-sm bg-vertClair text-marronFonce focus:ring focus:ring-vertClair focus:ring-opacity-50">
			</div>
			<div class="mt-4">
				<button type="submit" class="w-full bg-marronFonce text-white py-2 px-4 rounded hover:bg-marronClair hover:text-black focus:outline-none focus:ring-2 focus:ring-marronFonce focus:ring-opacity-50">Valider</button>
			</div>
		</form>
	</div>
</body>
<script src="js/fct.HTML.js"></script>
<script src="js/login.js"></script>
<script src="js/lstPromo.js"></script>
</html>
